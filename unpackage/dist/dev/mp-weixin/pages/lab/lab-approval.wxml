<view class="page data-v-405fe9ac"><view class="ct-content data-v-405fe9ac"><van-cell-group vue-id="1" data-com-type="wx" class="data-v-405fe9ac" bind:__l="__l" vue-slots="{{['default']}}"><van-cell vue-id="{{('2')+','+('1')}}" title="巡查对象" value-class="text-left" title-class="x-limit-title" value="{{checkValue}}" is-link data-event-opts="{{[['^click',[['e0']]]]}}" data-com-type="wx" bind:click="__e" class="data-v-405fe9ac" bind:__l="__l"></van-cell><van-popup vue-id="{{('3')+','+('1')}}" show="{{showPicker}}" position="bottom" data-com-type="wx" class="data-v-405fe9ac" bind:__l="__l" vue-slots="{{['default']}}"><van-picker vue-id="{{('4')+','+('3')}}" show-toolbar columns="{{columns}}" data-event-opts="{{[['^cancel',[['e1']]],['^confirm',[['onConfirm']]]]}}" data-com-type="wx" bind:cancel="__e" bind:confirm="__e" class="data-v-405fe9ac" bind:__l="__l"></van-picker></van-popup><van-cell vue-id="{{('5')+','+('1')}}" title="巡查对象" value-class="text-left" title-class="x-limit-title" data-com-type="wx" class="data-v-405fe9ac" bind:__l="__l" vue-slots="{{['default','right-icon']}}">东四316-2<van-icon vue-id="{{('6')+','+('5')}}" slot="right-icon" size="18px" name="scan" data-com-type="wx" class="data-v-405fe9ac" bind:__l="__l"></van-icon></van-cell><van-cell vue-id="{{('7')+','+('1')}}" title="巡查结果" use-label-slot data-com-type="wx" class="data-v-405fe9ac" bind:__l="__l" vue-slots="{{['label']}}"><view slot="label" class="data-v-405fe9ac"><view class="btn-containers data-v-405fe9ac"><view class="btn-block data-v-405fe9ac"><van-button class="{{['gray-btn data-v-405fe9ac',activeBtn==='1'?'gray-btn--green':'']}}" vue-id="{{('8')+','+('7')}}" round data-event-opts="{{[['^click',[['handleChangeBtn',['1']]]]]}}" data-com-type="wx" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}">巡查正常</van-button></view><view class="btn-block data-v-405fe9ac"><van-button class="{{['gray-btn data-v-405fe9ac',activeBtn==='2'?'gray-btn--green':'']}}" vue-id="{{('9')+','+('7')}}" round data-event-opts="{{[['^click',[['handleChangeBtn',['2']]]]]}}" data-com-type="wx" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}">存在问题</van-button></view><view class="btn-block data-v-405fe9ac"><van-button class="{{['gray-btn data-v-405fe9ac',activeBtn==='3'?'gray-btn--green':'']}}" vue-id="{{('10')+','+('7')}}" round data-event-opts="{{[['^click',[['handleChangeBtn',['3']]]]]}}" data-com-type="wx" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}">优秀实验室</van-button></view></view></view></van-cell></van-cell-group><view class="ct-box mt-medium mb-large data-v-405fe9ac" hidden="{{activeBtn!=='2'}}"><view class="ct-box__header data-v-405fe9ac">隐患上报</view><van-cell-group vue-id="11" data-com-type="wx" class="data-v-405fe9ac" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{troubles}}" wx:for-item="trouble" wx:for-index="__i0__" wx:key="id"><view class="data-v-405fe9ac"><van-cell vue-id="{{('12-'+__i0__)+','+('11')}}" title="隐患" data-com-type="wx" class="data-v-405fe9ac" bind:__l="__l" vue-slots="{{['right-icon']}}"><van-icon vue-id="{{('13-'+__i0__)+','+('12-'+__i0__)}}" slot="right-icon" name="close" color="#f44" size="24px" data-event-opts="{{[['^click',[['handleDelTrouble',['$0'],[[['troubles','id',trouble.id]]]]]]]}}" data-com-type="wx" bind:click="__e" class="data-v-405fe9ac" bind:__l="__l"></van-icon></van-cell><van-cell vue-id="{{('14-'+__i0__)+','+('11')}}" title="隐患等级" use-label-slot data-com-type="wx" class="data-v-405fe9ac" bind:__l="__l" vue-slots="{{['label']}}"><view slot="label" class="data-v-405fe9ac"><view class="btn-containers data-v-405fe9ac"><view class="btn-block btn-block--half data-v-405fe9ac"><van-button class="{{['gray-btn data-v-405fe9ac',trouble.grade==='1'?'gray-btn--red':'']}}" vue-id="{{('15-'+__i0__)+','+('14-'+__i0__)}}" round data-event-opts="{{[['^click',[['handleGradeChange',['$0','1'],[[['troubles','id',trouble.id]]]]]]]}}" data-com-type="wx" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}">紧急</van-button></view><view class="btn-block btn-block--half data-v-405fe9ac"><van-button class="{{['gray-btn data-v-405fe9ac',trouble.grade==='2'?'gray-btn--red':'']}}" vue-id="{{('16-'+__i0__)+','+('14-'+__i0__)}}" round data-event-opts="{{[['^click',[['handleGradeChange',['$0','2'],[[['troubles','id',trouble.id]]]]]]]}}" data-com-type="wx" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}">普通</van-button></view></view></view></van-cell><van-cell vue-id="{{('17-'+__i0__)+','+('11')}}" title="隐患描述" use-label-slot data-com-type="wx" class="data-v-405fe9ac" bind:__l="__l" vue-slots="{{['label']}}"><view slot="label" class="data-v-405fe9ac"><van-field bind:input="__e" class="p-0 has-no-border data-v-405fe9ac" vue-id="{{('18-'+__i0__)+','+('17-'+__i0__)}}" type="textarea" placeholder="请输入隐患内容" value="{{trouble.content}}" data-event-opts="{{[['^input',[['__set_model',['$0','content','$event',[]],[[['troubles','id',trouble.id]]]]]]]}}" data-com-type="wx" bind:__l="__l"></van-field></view></van-cell><van-cell vue-id="{{('19-'+__i0__)+','+('11')}}" use-label-slot data-com-type="wx" class="data-v-405fe9ac" bind:__l="__l" vue-slots="{{['title','label']}}"><view slot="title" class="data-v-405fe9ac"><view style="display:flex;justify-content:space-between;" class="data-v-405fe9ac"><label class="_span data-v-405fe9ac">隐患照片</label><label class="text-weakening _span data-v-405fe9ac">1/9</label></view></view><view slot="label" class="data-v-405fe9ac"><ct-uploader vue-id="{{('20-'+__i0__)+','+('19-'+__i0__)}}" file-list="{{trouble.fileList}}" after-read="{{afterRead}}" before-delete="{{handleDelImg}}" max-count="{{9}}" class="data-v-405fe9ac" bind:__l="__l"></ct-uploader></view></van-cell></view></block></van-cell-group><view class="mt-step mb-large p-small data-v-405fe9ac"><van-button class="big-btn data-v-405fe9ac" style="border-radius:4px;width:100%;" vue-id="21" size="large" type="info" data-event-opts="{{[['^click',[['handleAddTrouble']]]]}}" data-com-type="wx" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}">添加隐患</van-button><view class="mt-small data-v-405fe9ac"></view><van-button class="big-btn data-v-405fe9ac" style="border-radius:4px;width:100%;" vue-id="22" size="large" type="primary" loading="{{isUploading}}" data-event-opts="{{[['^click',[['handleUpload']]]]}}" data-com-type="wx" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}">上报隐患</van-button></view></view></view></view>